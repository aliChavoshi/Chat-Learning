"use strict";(self.webpackChunkClient=self.webpackChunkClient||[]).push([[463],{6463:(P,u,o)=>{o.r(u),o.d(u,{MessagesModule:()=>b});var g=o(2382),p=o(4466),r=o(9808),i=o(167),Z=o(8746),e=o(4893),f=o(5146),h=o(6939),_=o(5345);function v(t,a){1&t&&(e.TgZ(0,"div",9),e._UZ(1,"span",10),e.TgZ(2,"div"),e._uU(3,"no message found"),e.qZA(),e.qZA())}const m=function(t){return["/members",t]},c=function(){return{tab:"2"}};function M(t,a){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"a",21),e._UZ(2,"img",22),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(7,m,null==n?null:n.receiverUserName))("queryParams",e.DdM(9,c)),e.xp6(1),e.Q6J("src",(null==n?null:n.receiverPhotoUrl)||"./assets/images/user.png",e.LSH)("alt",null==n?null:n.receiverUserName),e.xp6(2),e.Oqu(e.lcZ(5,5,null==n?null:n.receiverUserName))}}function T(t,a){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"a",23),e._UZ(2,"img",22),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(7,m,null==n?null:n.senderUserName))("queryParams",e.DdM(9,c)),e.xp6(1),e.Q6J("src",(null==n?null:n.senderPhotoUrl)||"./assets/images/user.png",e.LSH)("alt",null==n?null:n.senderUserName),e.xp6(2),e.Oqu(e.lcZ(5,5,null==n?null:n.senderUserName))}}function A(t,a){if(1&t&&(e.TgZ(0,"tr",16),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,M,6,10,"div",8),e.YNc(5,T,6,10,"div",8),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"timeago"),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"div",1),e.TgZ(11,"button",17),e._UZ(12,"span",18),e.qZA(),e.TgZ(13,"button",19),e._UZ(14,"span",20),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const n=a.$implicit,s=e.oxw(2);e.Q6J("hidden",s.loading),e.xp6(2),e.Oqu(null==n?null:n.content),e.xp6(2),e.Q6J("ngIf","Outbox"===(null==s.messageParams?null:s.messageParams.container)),e.xp6(1),e.Q6J("ngIf","Outbox"!==(null==s.messageParams?null:s.messageParams.container)),e.xp6(2),e.Oqu(e.lcZ(8,5,null==n?null:n.messageSent))}}function C(t,a){if(1&t&&(e.TgZ(0,"div",11),e.TgZ(1,"table",12),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",13),e._uU(5,"message"),e.qZA(),e.TgZ(6,"th",14),e._uU(7,"From / To"),e.qZA(),e.TgZ(8,"th",14),e._uU(9,"Sent / Received"),e.qZA(),e._UZ(10,"th",14),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,A,15,7,"tr",15),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(12),e.Q6J("ngForOf",null==n.result?null:n.result.items)}}function x(t,a){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",24),e.TgZ(2,"pagination",25),e.NdJ("ngModelChange",function(l){return e.CHM(n),e.oxw().result.currentPage=l})("pageChanged",function(l){return e.CHM(n),e.oxw().pageChanged(l)}),e.qZA(),e.qZA(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("totalItems",null==n.result?null:n.result.totalCount)("ngModel",n.result.currentPage)}}const q=[{path:"",component:(()=>{class t{constructor(n){this.messageService=n,this.loading=!1,this.messageParams=this.messageService.getMessageParams()}ngOnInit(){this.loadMessages()}loadMessages(){this.loading=!0,this.messageService.getMessages(this.messageParams).pipe((0,Z.x)(()=>this.loading=!1)).subscribe(n=>{this.result=n})}changeContainer(n){this.messageParams.container=n,this.messageService.setMessageParams(this.messageParams),this.loadMessages()}pageChanged(n){this.messageParams.pageNumber=n.page,this.messageService.setMessageParams(this.messageParams),this.loadMessages()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home-message"]],decls:14,vars:3,consts:[[1,"row","m-4"],[1,"btn-group"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-envelope"],[1,"fa","fa-envelope-open"],[1,"fa","fa-paper-plane"],["class","alert alert-danger d-flex align-items-center","role","alert",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center"],[1,"fas","fa-info","m-2"],[1,"row"],[1,"table","bg-white","table-hover","table-bordered",2,"cursor","pointer"],[2,"width","40%"],[2,"width","20%"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"btn","btn-danger","btn-sm"],[1,"fas","fa-trash"],[1,"btn","btn-warning","btn-sm"],[1,"fas","fa-edit"],["routerLinkActive","router-link-active",3,"routerLink","queryParams"],[1,"img-ciecle","rounded-circle","mr-2","pr-5",3,"src","alt"],[3,"routerLink","queryParams"],[1,"d-flex","justify-content-center","mt-3"],[3,"totalItems","ngModel","ngModelChange","pageChanged"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return s.changeContainer("Unread")}),e._UZ(3,"i",3),e._uU(4," Unread "),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return s.changeContainer("Inbox")}),e._UZ(6,"i",4),e._uU(7," Inbox "),e.qZA(),e.TgZ(8,"button",2),e.NdJ("click",function(){return s.changeContainer("Outbox")}),e._UZ(9,"i",5),e._uU(10," Outbox "),e.qZA(),e.qZA(),e.qZA(),e.YNc(11,v,4,0,"div",6),e.YNc(12,C,13,1,"div",7),e.YNc(13,x,3,2,"ng-container",8)),2&n&&(e.xp6(11),e.Q6J("ngIf",0===(null==s.result||null==s.result.items?null:s.result.items.length)),e.xp6(1),e.Q6J("ngIf",(null==s.result||null==s.result.items?null:s.result.items.length)>0),e.xp6(1),e.Q6J("ngIf",(null==s.result?null:s.result.totalCount)>0))},directives:[r.O5,r.sg,i.yS,i.Od,h.Qt,g.JJ,g.On],pipes:[_.wr,r.rS],styles:[""]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[i.Bz.forChild(q)],i.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,U,p.m,g.u5]]}),t})()}}]);